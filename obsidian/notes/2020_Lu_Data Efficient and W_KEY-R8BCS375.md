# Data Efficient and Weakly Supervised Computational Pathology on Whole Slide Images
> [!info]+ <center>Metadata</center>
> 
> |<div style="width: 5em">Key</div>|Value|
> |--:|:--|
> |ÊñáÁåÆÁ±ªÂûã|journalArticle|
> |Ê†áÈ¢ò|Data Efficient and Weakly Supervised Computational Pathology on Whole Slide Images|
> |Áü≠Ê†áÈ¢ò||
> |‰ΩúËÄÖ|[[Ming Y. Lu]]„ÄÅ [[Drew F. K. Williamson]]„ÄÅ [[Tiffany Y. Chen]]„ÄÅ [[Richard J. Chen]]„ÄÅ [[Matteo Barbieri]]„ÄÅ [[Faisal Mahmood]]|
> |ÊúüÂàäÂêçÁß∞|[[Nature Biomedical Engineering]]|
> |DOI|[](https://doi.org/)|
> |Â≠òÊ°£‰ΩçÁΩÆ||
> |È¶ÜËóèÁõÆÂΩï|29.234 (Q1)|
> |Á¥¢‰π¶Âè∑|1|
> |ÁâàÊùÉ||
> |ÂàÜÁ±ª|[[202204, 00_Histology, MIL]]|
> |Êù°ÁõÆÈìæÊé•|[My Library](zotero://select/library/items/R8BCS375)|
> |PDF ÈôÑ‰ª∂|[Lu Á≠â„ÄÇ - 2020 - Data Efficient and Weakly Supervised Computational.pdf](zotero://open-pdf/library/items/7Z6D447A)|
> |ÂÖ≥ËÅîÊñáÁåÆ|[[2021_Chen_Pan-Cancer Integrati_KEY-D63WYLUI]]„ÄÅ [[2018_Ilse_Attention-based Deep_KEY-GMXKWTZJ]]„ÄÅ [[2020_Chen_Pathomic FusionÔºöAn I_KEY-QAX5DKBD]]„ÄÅ [[2020_Shi_Loss-Based Attention_KEY-W3KIU3LX]]|
> ^Metadata


> [!example]- <center>Êú¨ÊñáÊ†áÁ≠æ</center>
> 
> `$=dv.current().file.tags`


> [!quote]- <center>Abstract</center>
> 
> The rapidly emerging field of computational pathology has the potential to enable objective diagnosis, therapeutic response prediction and identification of new morphological features of clinical relevance. However, deep learning-based computational pathology approaches either require manual annotation of gigapixel whole slide images (WSIs) in fully-supervised settings or thousands of WSIs with slide-level labels in a weakly-supervised setting. Moreover, whole slide level computational pathology methods also suffer from domain adaptation and interpretability issues. These challenges have prevented the broad adaptation of computational pathology for clinical and research purposes. Here we present CLAM - Clustering-constrained attention multiple instance learning, an easy-to-use, high-throughput, and interpretable WSI-level processing and learning method that only requires slide-level labels while being data efficient, adaptable and capable of handling multi-class subtyping problems. CLAM is a deep-learning-based weakly-supervised method that uses attention-based learning to automatically identify sub-regions of high diagnostic value in order to accurately classify the whole slide, while also utilizing instance-level clustering over the representative regions identified to constrain and refine the feature space. In three separate analyses, we demonstrate the data efficiency and adaptability of CLAM and its superior performance over standard weakly-supervised classification. We demonstrate that CLAM models are interpretable and can be used to identify well-known and new morphological features. We further show that models trained using CLAM are adaptable to independent test cohorts, cell phone microscopy images, and biopsies. CLAM is a general-purpose and adaptable method that can be used for a variety of different computational pathology tasks in both clinical and research settings.


> [!tldr]- <center>ÈöêËóè‰ø°ÊÅØ</center>
> 
> itemType:: journalArticle
> title:: Data Efficient and Weakly Supervised Computational Pathology on Whole Slide Images
> shortTitle:: 
> creators:: [[Ming Y. Lu]]„ÄÅ [[Drew F. K. Williamson]]„ÄÅ [[Tiffany Y. Chen]]„ÄÅ [[Richard J. Chen]]„ÄÅ [[Matteo Barbieri]]„ÄÅ [[Faisal Mahmood]]
> publicationTitle:: [[Nature Biomedical Engineering]]
> journalAbbreviation:: 
> volume:: 
> issue:: 
> pages:: 
> language:: en
> DOI:: [](https://doi.org/)
> ISSN:: 
> url:: [http://arxiv.org/abs/2004.09666](http://arxiv.org/abs/2004.09666)
> archive:: 2022-07-25
> archiveLocation:: 
> libraryCatalog:: 29.234 (Q1)
> callNumber:: 1
> rights:: 
> extra:: üè∑Ô∏è _empahsis„ÄÅ/Done„ÄÅüìí„ÄÅComputer Science - Computer Vision and Pattern Recognition„ÄÅComputer Science - Machine Learning„ÄÅElectrical Engineering and Systems Science - Image and Video Processing„ÄÅQuantitative Biology - Tissues and Organs
> collection:: [[202204, 00_Histology, MIL]]
> tags:: #_empahsis #Done #Computer_Science_-_Computer_Vision_and_Pattern_Recognition #Computer_Science_-_Machine_Learning #Electrical_Engineering_and_Systems_Science_-_Image_and_Video_Processing #Quantitative_Biology_-_Tissues_and_Organs
> related:: [[2021_Chen_Pan-Cancer Integrati_KEY-D63WYLUI]]„ÄÅ [[2018_Ilse_Attention-based Deep_KEY-GMXKWTZJ]]„ÄÅ [[2020_Chen_Pathomic FusionÔºöAn I_KEY-QAX5DKBD]]„ÄÅ [[2020_Shi_Loss-Based Attention_KEY-W3KIU3LX]]
> itemLink:: [My Library](zotero://select/library/items/R8BCS375)
> pdfLink:: [Lu Á≠â„ÄÇ - 2020 - Data Efficient and Weakly Supervised Computational.pdf](zotero://open-pdf/library/items/7Z6D447A)
> qnkey:: 2020_Lu_Data Efficient and W_KEY-R8BCS375
> date:: 2020-05-21
> dateY:: 2020
> dateAdded:: 2022-04-25
> dateModified:: 2022-07-26
> year:: 2022
> dateCurrent:: 2022-07-27
> time:: 21:04:07
> week:: ÊòüÊúü‰∏â
> yearMonth:: 2022-07
> dateWeek:: 2022-07-27 ÊòüÊúü‰∏â
> dateTime:: 2022-07-27 21:04:07
> dateWeekTime:: 2022-07-27 21:04:07 ÊòüÊúü‰∏â
> 
> abstract:: The rapidly emerging field of computational pathology has the potential to enable objective diagnosis, therapeutic response prediction and identification of new morphological features of clinical relevance. However, deep learning-based computational pathology approaches either require manual annotation of gigapixel whole slide images (WSIs) in fully-supervised settings or thousands of WSIs with slide-level labels in a weakly-supervised setting. Moreover, whole slide level computational pathology methods also suffer from domain adaptation and interpretability issues. These challenges have prevented the broad adaptation of computational pathology for clinical and research purposes. Here we present CLAM - Clustering-constrained attention multiple instance learning, an easy-to-use, high-throughput, and interpretable WSI-level processing and learning method that only requires slide-level labels while being data efficient, adaptable and capable of handling multi-class subtyping problems. CLAM is a deep-learning-based weakly-supervised method that uses attention-based learning to automatically identify sub-regions of high diagnostic value in order to accurately classify the whole slide, while also utilizing instance-level clustering over the representative regions identified to constrain and refine the feature space. In three separate analyses, we demonstrate the data efficiency and adaptability of CLAM and its superior performance over standard weakly-supervised classification. We demonstrate that CLAM models are interpretable and can be used to identify well-known and new morphological features. We further show that models trained using CLAM are adaptable to independent test cohorts, cell phone microscopy images, and biopsies. CLAM is a general-purpose and adaptable method that can be used for a variety of different computational pathology tasks in both clinical and research settings.


üë£‚ûøüë£


## ‚úèÔ∏è Á¨îËÆ∞Âå∫

>[!inbox]- <center>üì´ Á¨îËÆ∞ÁÆÄÊä•</center>
>
> ‚è∞ importDate:: 2022-07-27

> [!IMPORTANT]+ <center>üå± Á†îËØªÂç∞Ë±°</center>  
>
>üìå comment::  

> [!WARNING]+ <center>üê£ ÊÄªÁªì</center>  
>
>üéØ Á†îÁ©∂ÈóÆÈ¢ò::  
üîé Á†îÁ©∂ËÉåÊôØ::  
üöÄ Á†îÁ©∂ÊñπÊ≥ï::  
üêî Á†îÁ©∂ÊÄùË∑Ø::  
üì∫ ‰∏ªË¶ÅÂÜÖÂÆπ::  
üéâ Á†îÁ©∂ÁªìËÆ∫::  
üóùÔ∏è ÂàõÊñ∞ÁÇπ::  
üí© Á†îÁ©∂Â±ÄÈôê::  
üêæ Á†îÁ©∂Â±ïÊúõ::  
‚úèÔ∏è Â§áÊ≥®::  


üë£‚ûøüë£

## üìù Ê≥®ÈáäÁ¨îËÆ∞ 7Z6D447A

> <span style="font-size: 15px;color: gray">üìç 2020-Lu-Data Efficient and Weakly Supervised Computational Pathology on Whole Slide Images</span>

^KEYrefTitle

> <span class="highlight" style="background-color: #ffd40040">Moreover, whole slide level computational pathology methods also suffer from domain adaptation, interpretability and visualization issues.</span>  
> ÂüüÈÄÇÂ∫î„ÄÅÂèØËßÜÂåñ„ÄÅÂèØËß£ÈáäÊÄß ([p2](zotero://open-pdf/library/items/7Z6D447A?page=2&annotation=SCBZCQRU))

^KEYSCBZCQRU

> <span class="highlight" style="background-color: #ffd40040">utilizing instance-level clustering over the representative regions identified to constrain and refine the feature space</span>  
> ÊÄé‰πàÂÆûÁé∞ËÅöÁ±ªÁöÑ ([p2](zotero://open-pdf/library/items/7Z6D447A?page=2&annotation=XDLBJZ7F))

^KEYXDLBJZ7F

> <span class="highlight" style="background-color: #ff666640">In three separate analyses</span> ([p2](zotero://open-pdf/library/items/7Z6D447A?page=2&annotation=VW4NPYME))

^KEYVW4NPYME

> <span class="highlight" style="background-color: #ff666640">computational pathology has demonstrated promise in a variety of different tasks by quantifying the tissue microenviornment7‚Äì12,</span> ([p3](zotero://open-pdf/library/items/7Z6D447A?page=3&annotation=HZ95FGP2))

^KEYHZ95FGP2

> <span class="highlight" style="background-color: #ff666640">egion of interest-level (ROIlevel) annotations made by pathologists</span>  
> ÈúÄË¶Å‰∫∫Â∑•Ê†áÊ≥® ([p3](zotero://open-pdf/library/items/7Z6D447A?page=3&annotation=9RPV3P7G))

^KEY9RPV3P7G

> <span class="highlight" style="background-color: #ff666640">Recent work has demonstrated exceptional clinical grade performance using slide-level labels for training binary classifiers for patient stratification in a weakly-supervised setting31.</span> ([p3](zotero://open-pdf/library/items/7Z6D447A?page=3&annotation=WTHF72X4))

^KEYWTHF72X4

> <span class="highlight" style="background-color: #ff666640">In summary, for the broader adaptation of computational pathology in both clinical and research settings there is a need for methods that do not require manual ROI extraction, or pixel/patch-level labeling while still being data efficient, interpretable, adaptable, and capable of handling multiclass subtyping problems.</span>  
> ÊÄªËÄåË®Ä‰πãÔºå‰∏∫‰∫ÜÂú®‰∏¥Â∫äÂíåÁ†îÁ©∂ÁéØÂ¢É‰∏≠Êõ¥ÂπøÊ≥õÂú∞ÈÄÇÂ∫îËÆ°ÁÆóÁóÖÁêÜÂ≠¶ÔºåÈúÄË¶Å‰∏çÈúÄË¶ÅÊâãÂä®ROIÊèêÂèñÊàñÂÉèÁ¥†/Ë¥¥ÁâáÁ∫ßÊ†áËÆ∞ÁöÑÊñπÊ≥ïÔºåÂêåÊó∂‰ªçÁÑ∂ÂÖ∑ÊúâÊï∞ÊçÆÊïàÁéáÔºåÂèØËß£ÈáäÊÄßÔºåÈÄÇÂ∫îÊÄßÔºåÂπ∂‰∏îËÉΩÂ§üÂ§ÑÁêÜÂ§öÁ±ªÂ≠êÁ±ªÂûãÈóÆÈ¢ò„ÄÇ ([p3](zotero://open-pdf/library/items/7Z6D447A?page=3&annotation=ZTEA59KE))

^KEYZTEA59KE

> <span class="highlight" style="background-color: #ffd40040">instance-level clustering</span> ([p4](zotero://open-pdf/library/items/7Z6D447A?page=4&annotation=58W8FDJA))

^KEY58W8FDJA

> <span class="highlight" style="background-color: #ff666640">This interpretation of the attention score is reflected in the slide-level aggregation rule of attention-based pooling, which computes the slide-level representation as the average of all patches in the slide weighted by their respective attention score. Unlike the standard multiple instance learning algorithm31‚Äì33, which was designed specifically for weakly-supervised positive/negative binary classification (e.g. cancer vs. normal), CLAM is designed to solve generic multi-class classification problems</span>  
> ÁôåÁóá‰∏éÊ≠£Â∏∏ÁªÑÁªáÁöÑ‰∫åÂàÜÁ±ªÊ®°ÂûãÂèØ‰ª•Áî®ËøôÁßçÊù•ÂàÜÁ±ª ([p4](zotero://open-pdf/library/items/7Z6D447A?page=4&annotation=KIRQKAD7))

^KEYKIRQKAD7

> <span class="highlight" style="background-color: #ff666640">To address the data inefficiency in existing weakly-supervised learning algorithms for computational pathology, we adopt the attention-based pooling aggregation rule instead of max pooling. Additionally, we make use of the slide-level ground truth label and the attention scores predicted by the network to generate pseudo-labels for both highly attended and weakly attended patches as a novel means to increase the supervisory signals for learning a rich, separable, patch-level feature space. During training, the network learns from an additional supervised learning task of clustering the most and least attended patches of each class into distinct clusters. Additionally, it is possible to incorporate domain knowledge into the instance level clustering to add further supervision. For example, almost always, cancer subtypes are mutually exclusive; when one subtype is present in the WSI, once can assume that there is no morphology corresponding to other subtypes concurrently present. Following the mutual exclusivity assumption, in addition to supervising the attention branch for which the ground truth class is present, we supervise the attention network branches corresponding to the remaining classes by clustering their highly attended instances as ‚Äùfalse positive‚Äù evidence for their respective classes.</span> ([p6](zotero://open-pdf/library/items/7Z6D447A?page=6&annotation=3QIQ9KT5))

^KEY3QIQ9KT5

> <span class="highlight" style="background-color: #ff666640">(e.g. 256 √ó 256 pixels)</span> ([p6](zotero://open-pdf/library/items/7Z6D447A?page=6&annotation=BCZ6QQT9))

^KEYBCZ6QQT9

> <span class="highlight" style="background-color: #ff666640">e trained models with weak supervision using only slide-level labels without pixel-, patch- or ROI-level annotation.</span> ([p17](zotero://open-pdf/library/items/7Z6D447A?page=17&annotation=EBCVL2I5))

^KEYEBCVL2I5

> <span class="highlight" style="background-color: #ff666640">In contrast, CLAM is applicable to general multi-class classification as instead of using max pooling or other aggregation functions (e.g. mean operator, generalized mean, log-sum-exp, the quantile function, Noisy-OR, Nosiy-And35‚Äì37, etc.) of limited flexibility for dataset or problem-specific tuning, we build CLAM around the trainable, attention-based pooling function33 to aggregate slide-level representations from patch-level representations for each class. In our design of multi-class attention pooling, the attention network predicts n distinct sets of attention scores corresponding to the n classes in a multi-class classification problem. This enables the network to unambiguously learn for each class, which morphological features should be considered as positive evidence (characteristic of the class) vs. negative evidence (non-informative) and summarize n unique slide-level representations</span> ([p18](zotero://open-pdf/library/items/7Z6D447A?page=18&annotation=CPIZ4LF7))

^KEYCPIZ4LF7

> <span class="highlight" style="background-color: #ff666640">Area under the curve of the receiver operating characteristic curve (AUC ROC)</span> ([p22](zotero://open-pdf/library/items/7Z6D447A?page=22&annotation=3H6WWQKE))

^KEY3H6WWQKE

> <span class="highlight" style="background-color: #ff666640">External RCC WSI Dataset.</span> ([p22](zotero://open-pdf/library/items/7Z6D447A?page=22&annotation=7VYHFYBM))

^KEY7VYHFYBM

> <span class="highlight" style="background-color: #ff666640">In-house BWH RCC WSI Dataset.</span> ([p23](zotero://open-pdf/library/items/7Z6D447A?page=23&annotation=MUDPX5HA))

^KEYMUDPX5HA

> <span class="highlight" style="background-color: #a28ae540">WSI Processing</span> ([p24](zotero://open-pdf/library/items/7Z6D447A?page=24&annotation=4TMXNUVV))

^KEY4TMXNUVV







